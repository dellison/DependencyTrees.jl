<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Oracles · DependencyTrees.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DependencyTrees.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Trees</span><ul><li><a class="toctext" href="../trees/">Trees</a></li><li><a class="toctext" href="../treebanks/">Treebanks</a></li></ul></li><li><span class="toctext">Transition Parsing</span><ul><li class="current"><a class="toctext" href>Oracles</a><ul class="internal"><li><a class="toctext" href="#Static-Oracles-1">Static Oracles</a></li><li><a class="toctext" href="#Dynamic-Oracles-1">Dynamic Oracles</a></li><li><a class="toctext" href="#Exploration-Policies-1">Exploration Policies</a></li></ul></li><li><a class="toctext" href="../transition_parsing/">Transition Systems</a></li></ul></li><li><a class="toctext" href="../evaluation/">Evaluation</a></li></ul></nav><article id="docs"><header><nav><ul><li>Transition Parsing</li><li><a href>Oracles</a></li></ul><a class="edit-page" href="https://github.com/dellison/DependencyTrees.jl/blob/master/docs/src/oracles.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Oracles</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Oracles-1" href="#Oracles-1">Oracles</a></h1><p>In transition-based dependency parsing, oracles are used to map parser configurations (intermediate parser states) to gold transitions.</p><p><a href="#Static-Oracles-1">Static</a> and <a href="#Dynamic-Oracles-1">dynamic</a> oracles can both be used to iterate through trees.</p><pre><code class="language-julia-repl">julia&gt; oracle = DynamicOracle(ArcEager())
julia&gt; for state in oracle(gold_tree)
           # ...
       end</code></pre><p><code>state</code> here will be a <code>DependencyTrees.OracleState</code>, which keeps track of the current configuration, possible transitions, and gold transitions.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.OracleState" href="#DependencyTrees.OracleState"><code>DependencyTrees.OracleState</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">OracleState</code></pre><p>Temporary state for building a transition parse.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles.jl#L21-L25">source</a></section><p>The iterator itself is something something</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.TreeOracle" href="#DependencyTrees.TreeOracle"><code>DependencyTrees.TreeOracle</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">TreeOracle</code></pre><p>A gold tree for training.</p><p>Collects an <code>oracle</code>, a gold <code>tree</code>, and an exploration <code>policy</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles.jl#L34-L40">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.UnparsableTree" href="#DependencyTrees.UnparsableTree"><code>DependencyTrees.UnparsableTree</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>UnparsableTree</p><p>Represents trees that an oracle can&#39;t parse.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles.jl#L9-L13">source</a></section><p>Both kinds of oracles can build parse trees with labelled (typed) or unlabelled (untyped) dependency relations using the <code>arc</code> keyword argument.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.untyped" href="#DependencyTrees.untyped"><code>DependencyTrees.untyped</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">untyped(token)</code></pre><p>Create an arc without a dependency label.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/transitions.jl#L1-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.typed" href="#DependencyTrees.typed"><code>DependencyTrees.typed</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">typed(token)</code></pre><p>Create an arc with a labeled dependency relation.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/transitions.jl#L8-L12">source</a></section><h2><a class="nav-anchor" id="Static-Oracles-1" href="#Static-Oracles-1">Static Oracles</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.StaticOracle" href="#DependencyTrees.StaticOracle"><code>DependencyTrees.StaticOracle</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">StaticOracle</code></pre><p>Static (deterministic) oracle for mapping parser configurations to gold transitions.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles/static.jl#L1-L6">source</a></section><h3><a class="nav-anchor" id="Static-Oracle-Functions-1" href="#Static-Oracle-Functions-1">Static Oracle Functions</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.static_oracle" href="#DependencyTrees.static_oracle"><code>DependencyTrees.static_oracle</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">static_oracle(cfg, gold_tree)</code></pre><p>Static oracle for arc-standard dependency parsing. Closes over gold trees, mapping parser configurations to optimal transitions.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_standard.jl#L53-L58">source</a><div><div><pre><code class="language-julia">static_oracle(cfg, tree, transition)</code></pre><p>Default static oracle function for arc-eager dependency parsing.</p><p>See <a href="https://www.aclweb.org/anthology/C12-1059.pdf">Goldberg &amp; Nivre 2012</a>. (Also called Arc-Eager-Reduce in <a href="https://nlp.stanford.edu/pubs/qi2017arcswift.pdf">Qi &amp; Manning 2017</a>).</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_eager.jl#L60-L67">source</a><div><div><pre><code class="language-julia">static_oracle(::ArcHybrid, tree)</code></pre><p>Static oracle for arc-hybrid dependency parsing. Closes over gold trees, mapping parser configurations to optimal transitions.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_hybrid.jl#L40-L45">source</a><div><div><pre><code class="language-julia">static_oracle(::ArcSwiftConfig, graph)</code></pre><p>Return a training oracle function which returns gold transition operations from a parser configuration with reference to <code>graph</code>.</p><p>Described in <a href="https://nlp.stanford.edu/pubs/qi2017arcswift.pdf">Qi &amp; Manning 2017</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_swift.jl#L85-L92">source</a><div><div><pre><code class="language-julia">static_oracle(::ListBasedNonProjectiveConfig, tree)</code></pre><p>Return a training oracle function which returns gold transition operations from a parser configuration with reference to <code>graph</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/listbased.jl#L88-L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.static_oracle_prefer_shift" href="#DependencyTrees.static_oracle_prefer_shift"><code>DependencyTrees.static_oracle_prefer_shift</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">static_oracle_prefer_shift(cfg, gold_tree, arc=untyped)</code></pre><p>Static oracle for arc-eager dependency parsing. Similar to the &quot;regular&quot; static oracle, but always Shift when ambiguity is present.</p><p>See <a href="https://nlp.stanford.edu/pubs/qi2017arcswift.pdf">Qi &amp; Manning 2017</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_eager.jl#L88-L95">source</a></section><h2><a class="nav-anchor" id="Dynamic-Oracles-1" href="#Dynamic-Oracles-1">Dynamic Oracles</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.DynamicOracle" href="#DependencyTrees.DynamicOracle"><code>DependencyTrees.DynamicOracle</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DynamicOracle(system, oracle_function = dynamic_oracle; arc = untyped)</code></pre><p>Create a dynamic oracle for dependency parsing (see <a href="https://aclweb.org/anthology/C/C12/C12-1059.pdf">Goldberg &amp; Nivre, 2012</a>).</p><p>Dynamic oracles allow multiple gold transitions from each parser configuration.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles/dynamic.jl#L7-L13">source</a></section><h3><a class="nav-anchor" id="Dynamic-Oracle-Functions-1" href="#Dynamic-Oracle-Functions-1">Dynamic Oracle Functions</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.dynamic_oracle" href="#DependencyTrees.dynamic_oracle"><code>DependencyTrees.dynamic_oracle</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dynamic_oracle(t, cfg::ArgEagerConfig, tree)</code></pre><p>Dynamic oracle function for arc-eager parsing.</p><p>For details, see <a href="https://aclweb.org/anthology/C12-1059">Goldberg &amp; Nivre 2012</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_eager.jl#L122-L128">source</a><div><div><pre><code class="language-julia">dynamic_oracle(t, cfg::ArgHybridConfig, tree)</code></pre><p>Dynamic oracle function for arc-hybrid parsing.</p><p>For details, see <a href="https://aclweb.org/anthology/Q13-1033.pdf">Goldberg &amp; Nivre, 2013</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/systems/arc_hybrid.jl#L68-L74">source</a></section><h2><a class="nav-anchor" id="Exploration-Policies-1" href="#Exploration-Policies-1">Exploration Policies</a></h2><p>Something about exploration during training.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.AlwaysExplore" href="#DependencyTrees.AlwaysExplore"><code>DependencyTrees.AlwaysExplore</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">AlwaysExplore()</code></pre><p>Policy for always exploring sub-optimal transitions.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles/exploration.jl#L7-L11">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.NeverExplore" href="#DependencyTrees.NeverExplore"><code>DependencyTrees.NeverExplore</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">NeverExplore()</code></pre><p>Policy for never exploring sub-optimal transitions.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles/exploration.jl#L22-L26">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DependencyTrees.ExplorationPolicy" href="#DependencyTrees.ExplorationPolicy"><code>DependencyTrees.ExplorationPolicy</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">ExplorationPolicy(k, p)</code></pre><p>Simple exploration policy from Goldberg &amp; Nivre, 2012. Returns true at rate p.</p></div></div><a class="source-link" target="_blank" href="https://github.com/dellison/DependencyTrees.jl/blob/2bfb2276c20470e3480533d5bec4870338f4d573/src/transition_parsing/oracles/exploration.jl#L37-L41">source</a></section><footer><hr/><a class="previous" href="../treebanks/"><span class="direction">Previous</span><span class="title">Treebanks</span></a><a class="next" href="../transition_parsing/"><span class="direction">Next</span><span class="title">Transition Systems</span></a></footer></article></body></html>
